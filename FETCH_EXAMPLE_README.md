# ๐ ุฃูุซูุฉ Fetch API ูุน Supabase

## ๐ ุงููุตู
ูุฌููุนุฉ ุดุงููุฉ ูู ุงูุฃูุซูุฉ ูุงุณุชุฎุฏุงู Fetch API ูุน ูุงุนุฏุฉ ุจูุงูุงุช Supabaseุ ุชุดูู ุฃูุซูุฉ ูู Node.js ูุงููุชุตูุญ.

## ๐ ุงููููุงุช ุงููุชุถููุฉ

### 1. `supabase-fetch-example.js` - ูุซุงู Node.js
- **ุงููุตู**: ูุซุงู ูุงูู ูุงุณุชุฎุฏุงู Fetch API ูู ุจูุฆุฉ Node.js
- **ุงููููุฒุงุช**:
  - ุงุณุชุฎุฏุงู ูุชุบูุฑุงุช ุงูุจูุฆุฉ ููุญูุงูุฉ ุงูุฃูููุฉ
  - ุฏูุงู ููุนูููุงุช ุงูุฃุณุงุณูุฉ (CRUD)
  - ูุนุงูุฌุฉ ุดุงููุฉ ููุฃุฎุทุงุก
  - ุฑุณุงุฆู ูุงุถุญุฉ ุจุงููุบุฉ ุงูุนุฑุจูุฉ

### 2. `supabase-fetch-browser.html` - ูุซุงู ุงููุชุตูุญ
- **ุงููุตู**: ุตูุญุฉ HTML ุชูุงุนููุฉ ูุงุณุชุฎุฏุงู Fetch API ูู ุงููุชุตูุญ
- **ุงููููุฒุงุช**:
  - ูุงุฌูุฉ ูุณุชุฎุฏู ุนุฑุจูุฉ ุฌูููุฉ
  - ุชุฃุซูุฑุงุช Glassmorphism
  - ุญูุธ ุงูุฅุนุฏุงุฏุงุช ูู localStorage
  - ุฃุฒุฑุงุฑ ุชูุงุนููุฉ ููุนูููุงุช ุงููุฎุชููุฉ

## ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู

### Node.js Example

1. **ุชุซุจูุช ุงููุชุทูุจุงุช**:
```bash
npm install dotenv
```

2. **ุฅุนุฏุงุฏ ูุชุบูุฑุงุช ุงูุจูุฆุฉ**:
```bash
# ูู ููู .env
VITE_SUPABASE_URL=https://mtpnlowzrbdqkbxjgpvm.supabase.co
VITE_SUPABASE_ANON_KEY=your_anon_key_here
```

3. **ุชุดุบูู ุงููุซุงู**:
```bash
node supabase-fetch-example.js
```

### Browser Example

1. **ูุชุญ ุงูููู**:
   - ุงูุชุญ `supabase-fetch-browser.html` ูู ุงููุชุตูุญ ูุจุงุดุฑุฉ
   - ุฃู ุงุณุชุฎุฏู ุฎุงุฏู ูุญูู:
   ```bash
   python -m http.server 8000
   # ุซู ุงูุชุญ http://localhost:8000/supabase-fetch-browser.html
   ```

2. **ุฅุฏุฎุงู ุงูุฅุนุฏุงุฏุงุช**:
   - ุฃุฏุฎู ุฑุงุจุท Supabase
   - ุฃุฏุฎู ููุชุงุญ Supabase (anon key)
   - ุงุถุบุท "ุญูุธ ุงูุฅุนุฏุงุฏุงุช"

3. **ุงุณุชุฎุฏุงู ุงููุธุงุฆู**:
   - **ุฌูุจ ุงูุฏูู**: ูุนุฑุถ ุฌููุน ุงูุจูุงูุงุช ูู ุฌุฏูู countries
   - **ุฅุถุงูุฉ ุฏููุฉ**: ูุฅุถุงูุฉ ุฏููุฉ ุฌุฏูุฏุฉ
   - **ุงุฎุชุจุงุฑ ุงูุงุชุตุงู**: ููุชุญูู ูู ุตุญุฉ ุงูุงุชุตุงู
   - **ูุณุญ ุงููุชุงุฆุฌ**: ููุณุญ ููุทูุฉ ุงูุฅุฎุฑุงุฌ

## ๐ง ุงููุธุงุฆู ุงููุชุงุญุฉ

### Node.js Functions
```javascript
// ุฌูุจ ุฌููุน ุงูุฏูู
await fetchCountries();

// ุฅุถุงูุฉ ุฏููุฉ ุฌุฏูุฏุฉ
await addCountry({
  name: 'ูุตุฑ',
  code: 'EG'
});

// ุชุญุฏูุซ ุฏููุฉ
await updateCountry(1, { name: 'ูุตุฑ ุงููุญุฏุซุฉ' });

// ุญุฐู ุฏููุฉ
await deleteCountry(1);
```

### Browser Functions
- `testConnection()` - ุงุฎุชุจุงุฑ ุงูุงุชุตุงู
- `fetchCountries()` - ุฌูุจ ุงูุจูุงูุงุช
- `addCountry()` - ุฅุถุงูุฉ ุฏููุฉ ุฌุฏูุฏุฉ
- `saveConfig()` - ุญูุธ ุงูุฅุนุฏุงุฏุงุช
- `clearOutput()` - ูุณุญ ุงููุชุงุฆุฌ

## ๐๏ธ ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุฅูุดุงุก ุฌุฏูู countries
```sql
-- ุฅูุดุงุก ุฌุฏูู ุงูุฏูู
CREATE TABLE countries (
  id BIGSERIAL PRIMARY KEY,
  name TEXT NOT NULL,
  code TEXT UNIQUE NOT NULL,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- ุฅุฏุฑุงุฌ ุจูุงูุงุช ุชุฌุฑูุจูุฉ
INSERT INTO countries (name, code) VALUES
('ุงูุณุนูุฏูุฉ', 'SA'),
('ุงูุฅูุงุฑุงุช', 'AE'),
('ูุตุฑ', 'EG'),
('ุงูุฃุฑุฏู', 'JO');
```

### ุฅุนุฏุงุฏ Row Level Security (RLS)
```sql
-- ุชูุนูู RLS
ALTER TABLE countries ENABLE ROW LEVEL SECURITY;

-- ุณูุงุณุฉ ุงููุฑุงุกุฉ ููุฌููุน
CREATE POLICY "Enable read access for all users" ON countries
FOR SELECT USING (true);

-- ุณูุงุณุฉ ุงููุชุงุจุฉ ูููุณุชุฎุฏููู ุงููุตุฑุญ ููู
CREATE POLICY "Enable insert for authenticated users only" ON countries
FOR INSERT WITH CHECK (auth.role() = 'authenticated');
```

## ๐ ุงูุฃูุงู

### โ๏ธ ุชุญุฐูุฑุงุช ูููุฉ
- **ูุง ุชูุดู ููุงุชูุญ API**: ุงุณุชุฎุฏู ูุชุบูุฑุงุช ุงูุจูุฆุฉ ุฏุงุฆูุงู
- **ุงุณุชุฎุฏู HTTPS**: ุชุฃูุฏ ูู ุงุณุชุฎุฏุงู ุงุชุตุงูุงุช ุขููุฉ
- **ูุนูู RLS**: ูู ุจุชูุนูู Row Level Security ูู Supabase

### ๐ก๏ธ ุฃูุถู ุงูููุงุฑุณุงุช
- ุงุญูุธ ุงูููุงุชูุญ ูู ููู `.env` ูุฃุถูู ุฅูู `.gitignore`
- ุงุณุชุฎุฏู ููุงุชูุญ ูุฎุชููุฉ ููุชุทููุฑ ูุงูุฅูุชุงุฌ
- ุฑุงุฌุน ุณูุงุณุงุช ุงูุฃูุงู ุจุงูุชุธุงู

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ูุดุงูู ุดุงุฆุนุฉ ูุญููููุง

#### ุฎุทุฃ "No API key found"
```
ุงูุญู: ุชุฃูุฏ ูู ุฅุถุงูุฉ ููุชุงุญ API ูู headers
```

#### ุฎุทุฃ CORS ูู ุงููุชุตูุญ
```
ุงูุญู: ุชุฃูุฏ ูู ุฅุนุฏุงุฏ CORS ูู Supabase ุฃู ุงุณุชุฎุฏู ุฎุงุฏู ูุญูู
```

#### ุฎุทุฃ ูู ุงูุงุชุตุงู
```
ุงูุญู: ุชุญูู ูู ุตุญุฉ ุฑุงุจุท Supabase ูููุชุงุญ API
```

#### ุฎุทุฃ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
```
ุงูุญู: ุชุฃูุฏ ูู ูุฌูุฏ ุฌุฏูู countries ูุฅุนุฏุงุฏ RLS ุจุดูู ุตุญูุญ
```

## ๐ ููุงุฑูุฉ ุงูุทุฑู

| ุงูุทุฑููุฉ | ุงููููุฒุงุช | ุงูุนููุจ | ุงูุงุณุชุฎุฏุงู ุงูููุงุณุจ |
|---------|----------|--------|------------------|
| **Fetch API** | ุจุณุงุทุฉุ ูุฏูุฌ ูู JavaScriptุ ูุฑููุฉ ุนุงููุฉ | ูุชุทูุจ ุฅุนุฏุงุฏ headers ูุฏููุงู | ุงูุชุทุจููุงุช ุงูุจุณูุทุฉุ ุงูุชุญูู ุงููุงูู |
| **Supabase Client** | ุณูููุฉ ุงูุงุณุชุฎุฏุงูุ ูููุฒุงุช ุฅุถุงููุฉ | ุญุฌู ุฃูุจุฑุ ุชุนููุฏ ุฅุถุงูู | ุงูุชุทุจููุงุช ุงููุนูุฏุฉุ ุงูููุฒุงุช ุงููุชูุฏูุฉ |

## ๐ ุฑูุงุจุท ูููุฏุฉ
- [Supabase REST API Documentation](https://supabase.com/docs/guides/api)
- [Fetch API MDN Documentation](https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)
- [JavaScript Promises Guide](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Using_promises)

## ๐ ุงูุฏุนู
ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงูู ุฃู ูุฏูู ุฃุณุฆูุฉุ ูุฑุฌู:
1. ูุฑุงุฌุนุฉ ูุณู ุงุณุชูุดุงู ุงูุฃุฎุทุงุก ุฃุนูุงู
2. ุงูุชุญูู ูู ุฅุนุฏุงุฏุงุช Supabase
3. ูุฑุงุฌุนุฉ console ุงููุชุตูุญ ููุฃุฎุทุงุก ุงูุชูุตูููุฉ